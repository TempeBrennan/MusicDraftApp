<!DOCTYPE html>
<html lang="zh-cn">

<head>
  <meta charset="UTF-8" />
  <title>🎵 简谱 → MusicXML 可视编辑器</title>
  <link rel="stylesheet" href="style.css">
</head>

<body>
  <header>
    🎵 曲名：
    <input id="titleInput" type="text" placeholder="请输入曲名" value="我的第一首歌曲" style="width:180px;">
    原唱：
    <input id="composerInput" type="text" placeholder="某歌手" value="某歌手" style="width:140px;">

    <button id="btnNewMeasure">➕ 添加小节</button>
    <button id="btnExportMXL">📦 导出 MXL</button>
  </header>

  <div id="main">
    <!-- 左侧面板 -->
    <div id="note-palette">
      <h4>🎵 音符面板</h4>
      <div id="palette-tones">
        <button class="tone" data-step="C">1</button>
        <button class="tone" data-step="D">2</button>
        <button class="tone" data-step="E">3</button>
        <button class="tone" data-step="F">4</button>
        <button class="tone" data-step="G">5</button>
        <button class="tone" data-step="A">6</button>
        <button class="tone" data-step="B">7</button>
        <button id="restBtn">休</button>
      </div>

      <label>升降号:
        <select id="alterSel">
          <option value="0">♮</option>
          <option value="1">♯</option>
          <option value="-1">♭</option>
        </select>
      </label>

      <label>八度:
        <select id="octSel">
          <option>3</option>
          <option selected>4</option>
          <option>5</option>
        </select>
      </label>

      <label>八度升降:
        <select id="octaveShiftSel">
          <option value="0" selected>不变</option>
          <option value="1">升八度 ●</option>
          <option value="-1">降八度 ●</option>
        </select>
      </label>

      <label>时值:
        <select id="durSel">
          <option value="1">八分</option>
          <option value="2" selected>四分</option>
          <option value="4">二分</option>
          <option value="8">全音符</option>
        </select>
      </label>

      <label>增时线:
        <select id="extendLineSel">
          <option value="0" selected>无</option>
          <option value="1">1条 -</option>
          <option value="2">2条 - -</option>
          <option value="3">3条 - - -</option>
        </select>
      </label>

      <label>减时线:
        <select id="reduceLineSel">
          <option value="0" selected>无</option>
          <option value="1">1条</option>
          <option value="2">2条</option>
        </select>
      </label>

      <label>附点:
        <select id="dottedSel">
          <option value="0" selected>无</option>
          <option value="1">附点 ·</option>
        </select>
      </label>

      <button id="addNoteBtn">添加音符到当前小节</button>
    </div>

    <!-- 中间展示 -->
    <div id="score-area"></div>

    <!-- 右侧属性窗 -->
    <div id="note-editor">
      <h4>🎚️ 音符属性</h4>
      <div id="noSelection">点击音符以编辑属性。</div>

      <div id="editorForm" style="display:none;">
        <label>音名:<select id="editStep">
            <option>C</option>
            <option>D</option>
            <option>E</option>
            <option>F</option>
            <option>G</option>
            <option>A</option>
            <option>B</option>
          </select></label>
        <label>升降号:<select id="editAlter">
            <option value="0">♮</option>
            <option value="1">♯</option>
            <option value="-1">♭</option>
          </select></label>
        <label>八度:<select id="editOctave">
            <option>3</option>
            <option selected>4</option>
            <option>5</option>
          </select></label>
        <label>八度升降:<select id="editOctaveShift">
            <option value="0" selected>不变</option>
            <option value="1">升八度 ●</option>
            <option value="-1">降八度 ●</option>
          </select></label>
        <label>时值:<select id="editDur">
            <option value="1">八分</option>
            <option value="2">四分</option>
            <option value="4">二分</option>
            <option value="8">全音符</option>
          </select></label>
        <label>增时线:<select id="editExtendLine">
            <option value="0" selected>无</option>
            <option value="1">1条 -</option>
            <option value="2">2条 - -</option>
            <option value="3">3条 - - -</option>
          </select></label>
        <label>减时线:<select id="editReduceLine">
            <option value="0" selected>无</option>
            <option value="1">1条</option>
            <option value="2">2条</option>
          </select></label>
        <label>附点:<select id="editDotted">
            <option value="0" selected>无</option>
            <option value="1">附点 ·</option>
          </select></label>
        <label>连音:<select id="editSlur">
            <option value="">无</option>
            <option value="start">start</option>
            <option value="stop">stop</option>
          </select></label>
        <label>Beam:<select id="editBeam">
            <option value="">无</option>
            <option value="begin">begin</option>
            <option value="continue">continue</option>
            <option value="end">end</option>
          </select></label>
        <button id="updateNote">更新音符</button>
      </div>
    </div>
  </div>

  <script src="app.js"></script>
</body>

</html>